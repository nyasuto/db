# Ponpoko-KV: A Bitcask-inspired High Performance KVS

「シンプルから高度なエンジンへ」の進化を記録する、Go製の自作KVSプロジェクト。

## 🚀 プロジェクトの目的
1. **DBエンジンの核心を理解する**: ファイルI/O、インデックス、永続化の実装。
2. **ベンチマーク駆動開発**: 段階的な最適化を行い、そのパフォーマンス向上を可視化する。
3. **将来のSQLエンジンへの布石**: 信頼性の高いストレージレイヤーの構築。

## 🛠 進化のロードマップ (Stages)

| Stage | 名前 | 主要機能 | 目標ベンチマーク |
| :--- | :--- | :--- | :--- |
| **Stage 1** | **The Log** | 単一ファイルへの追記、メモリハッシュマップ、Put/Get | 基礎性能の測定 |
| **Stage 2** | **The Guardian** | 起動時のデータ復旧（Recovery）、チェックサム | 信頼性の確保 |
| **Stage 3** | **The Cleaner** | セグメント分割、Compaction (マージ) | ディスク効率の改善 |
| **Stage 4** | **The Speedster** | mmapの導入、バッファリング、並行性の最適化 | 高速化 (300%UP目標) |

## 📊 ベンチマーク・ヒストリー
| 日付 | ステージ | Put (ops/sec) | Get (ops/sec) | 備考 |
| :--- | :--- | :--- | :--- | :--- |
| 2026-01-03 | Stage 1 | - | - | 初回実装予定 |

## 📝 データ構造（Stage 1）
データは以下のバイナリ形式でファイルに追記されます。

[Timestamp(8)] [KeySize(4)] [ValueSize(4)] [Key(n)] [Value(m)]